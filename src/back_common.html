<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"/>
    <link rel="stylesheet" href="./css/style.css">
    <title>QA管理</title>
  </head>
  <body>
    <!-- ============== 缺搜尋BAR ============== -->
    <div class="back_common fulid_wrapper">
      <div class="backwrapper">
        <header>@@include('layout/back_header.html')</header>

        <div class="container">
          <main class="right_content">
            <section class="section1">
              <!-- form -->
              <div class="back_from">
                <div class="back_fromTitle">
                  <h4 class="h4 green-1">Q＆A常見問題管理</h4>
                  <div class="search">
                    <div class="insert_btn" style="color: #898989">新增</div>
                    <div class="search_container_item">
                      <input type="text" placeholder="動態查詢..." />
                    </div>
                    <div class="search_container_item">
                      <i class="fa-solid fa-magnifying-glass"></i>
                    </div>
                  </div>
                </div>
                <div class="back_from_wrapper">
                  <!-- row-1 -->
                  <div class="grid_container">
                    <div class="grid_item">排序</div>
                    <div class="grid_item">類型</div>
                    <div class="grid_item">標題</div>
                    <div class="grid_item">狀態</div>
                    <div class="grid_item">操作</div>
                  </div>

                  <!-- row-2 -->
                  <div class="grid_container" v-for="qa in QAlist">
                    <div class="grid_item">
                        {{qa.ID}}
                    </div>
                    <div class="grid_item">
                        {{qa.Category}}
                    </div>
                    <div class="grid_item">
                        {{qa.QuestionContent}}
                    </div>
                    <div class="grid_item">
                      <label class="switch">
                        <input type="checkbox" class="switch_btn" checked />
                        <span class="slider"></span>
                        <p class="slider_content">上架</p>
                      </label>
                    </div>
                    <div class="grid_item checked">查閱</div>
                  </div>
                </div>
                <!-- wrapper -->
              </div>
              <!-- back_from -->

              <!-- 頁碼-->
              <!-- <div class="page">
                            <ul class="page_ul">
                            <li><a href="#">1</a></li>
                            <li><a href="#">2</a></li>
                            <li><a href="#">3</a></li>
                            <li><a href="#">4</a></li>
                            </ul>
                        </div> -->
            </section>
            <!-- section1 -->
          </main>
          @@include('layout/back_footer.html')
        </div>
        <!-- container -->
      </div>
      <div class="section_common">
        <div class="common_top">
          <h6>新增問答</h6>
        </div>
        <div class="common_type">
          <h6>問題類型：</h6>
          <select name="" id="">
            <option value="">私廚預約（預設）</option>
            <option value="">商城購物</option>
            <option value="">租借服務</option>
            <option value="">配送問題</option>
            <option value="">下單與付款</option>
          </select>
        </div>
        <div class="common_question">
          <h6>問題：</h6>
          <textarea
            placeholder="請問有最低用餐人數嗎？                     (6/25)"
          ></textarea>
        </div>
        <div class="commmon_answer">
          <h6>回覆：</h6>
          <textarea>沒有！一個人也可以享有專屬私廚服務唷！</textarea>
          <p>(0/300)</p>
          <button class="common_content_btn">儲存</button>
        </div>
      </div>
    </div>
    <script src="./js/vender/Vue/vue.global.js"></script>
    <script src="./js/vender/Jquery/jquery-3.6.1.js"></script>
    <!-- 導覽列 -->
    <script>
      // const switchBtn = document.querySelectorAll(".switch_btn");
      // const sliderContent = document.querySelectorAll(".slider_content");
      // // console.log(switchBtn);

      // for(let i=0; i < switchBtn.length; i++){
      //     // console.log(i)
      //     switchBtn[i].addEventListener("click", function(){
      //         console.log(this.checked); // ture /false
      //         console.log(i);
      //         console.log(this)

      //         if (this.checked == true) {

      //             $(this).closest("label").find(".slider_content").text('啟用');
      //         } else{
      //             $(this).closest("label").find(".slider_content").text('停權');
      //         }
      //     });
      // }
    </script>
    <script>
      let app1 = Vue.createApp({
        data() {
          return {
            QAlist: [],
          };
        },
        created() {
          this.qarender();
        },
        methods: {
          qarender() {
            let _this = this;

            $.ajax({
              method: "POST",
              url: "php/frontpage/back_common.php",
              data: {},

              dataType: "json",
              success: function (response) {
                // console.log(response);
                response.forEach((element) => {
                  // console.log(element);
                  _this.QAlist.push(element);
                });
              },
              error: function (exception) {
                alert("發生錯誤: " + exception.status);
              },
            });
            console.log(this.QAlist);
          },
        },
      });
      app1.mount(".container");
    </script>
  </body>
</html>
