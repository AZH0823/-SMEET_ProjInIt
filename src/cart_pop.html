<body>
    <!-- =========購物車pop============ -->
    <div class="fulid_wrapper cart " id="cart_pop">
        <div class="cart_container">
            <div class="icon_x font_light">x</div>
            <!-- <i class="fa-solid fa-xmark"></i> -->
            <ul class="cart_content">
                <li class="item" v-for="(item, key) in shop_data" :key="item.key">
                    <img :src="item.IMG" alt="">
                    <div class="content">
                        <p class="font16 green-1 title">{{item.Name}}</p>
                        <p class="font14 count">數量</p>
                        <div class="plus_minus">
                            <div class="minus"><i class="fa-solid fa-minus" @click="dealMinus(item)"></i></div>
                            <div class="number">{{item.qty}}</div>
                            <div class="plus"><i class="fa-solid fa-plus" @click="dealPlus(item)"></i></div>
                        </div>
                        <p class="font14 money">金額</p>
                        <p class="font14 money_cart">$ {{item.Price}}</p>
                        <i class="fa-regular fa-trash-can" @click=" dealDelete(index)"></i>
                    </div>
                </li>
                <!-- <li class="item">
                    <img src="img/atcart_img/atcart_addp.jpg" alt="">
                    <div class="content">
                        <p class="font16 green-1 title">奶香牛肝菌野菇濃湯野菇濃湯湯野菇濃</p>
                        <p class="font14 count">數量</p>
                        <div class="plus_minus">
                            <div class="minus"><i class="fa-solid fa-minus"></i></div>
                            <div class="number">1</div>
                            <div class="plus"><i class="fa-solid fa-plus"></i></div>
                        </div>
                        <p class="font14 money">金額</p>
                        <p class="font14 money_cart">$ 1000</p>
                        <i class="fa-regular fa-trash-can"></i>
                    </div>
                </li>
                <li class="item">
                    <img src="img/atcart_img/atcart_addp.jpg" alt="">
                    <div class="content">
                        <p class="font16 green-1 title">奶香牛肝菌野菇濃湯</p>
                        <p class="font14 count">數量</p>
                        <div class="plus_minus">
                            <div class="minus"><i class="fa-solid fa-minus"></i></div>
                            <div class="number">1</div>
                            <div class="plus"><i class="fa-solid fa-plus"></i></div>
                        </div>
                        <p class="font14 money">金額</p>
                        <p class="font14 money_cart">$ 1000</p>
                        <i class="fa-regular fa-trash-can"></i>
                    </div>
                </li>
                <li class="item">
                    <img src="img/atcart_img/atcart_addp.jpg" alt="">
                    <div class="content">
                        <p class="font16 green-1 title">奶香牛肝菌野菇濃湯</p>
                        <p class="font14 count">數量</p>
                        <div class="plus_minus">
                            <div class="minus"><i class="fa-solid fa-minus"></i></div>
                            <div class="number">1</div>
                            <div class="plus"><i class="fa-solid fa-plus"></i></div>
                        </div>
                        <p class="font14 money">金額</p>
                        <p class="font14 money_cart">$ 1000</p>
                        <i class="fa-regular fa-trash-can"></i>
                    </div>
                </li> -->
            </ul>
            <div class="btn">
                <button type="button" class="checkout_btn"><a href="./cartDetail.html">結帳</a></button>
            </div>
        </div>
    </div>
    <script>
        let cart_pop = Vue.createApp({
            data(){
                return{
                    shop_data:[{}],
                }
            },
            watch:{
                // 抓localstorage資料 渲染
                change(){
                    this.shop_data = JSON.parse(localStorage.getItem('shoppingData'));
                }
            },
            mounted(){
                
            },
            methods:{
                get_data(){
                    this.shop_data = JSON.parse(localStorage.getItem('shoppingData'));
                    // console.log(a);
                    console.log(this.shop_data);
                },
                //數量加
                dealPlus(item){
                    // console.log(item);
                    item.qty++;
                },
                 //數量減
                dealMinus(item){
                    // console.log(item);
                    if(item.qty > 1){
                        item.qty--;
                    }
                },
                //刪除點選到的商品 ->垃圾桶
                dealDelete(index){
                    this.shop_data.splice(index,1);
                },
    
            }
        }).mount('#cart_pop');

    </script>
</body>
